# 日志输出规范

## 目的

日志输出规范是确保软件质量、提高开发效率和维护性能的关键部分。

1. **快速定位和解决问题**：提高故障诊断效率。
2. **提升代码可维护性**：便于团队成员理解和维护。
3. **确保一致性和可比较性**：统一的格式便于分析和监控。
4. **满足安全和合规要求**：记录关键操作和数据访问。
5. **监控性能和故障恢复**：辅助性能监测和系统恢复。
6. **便于数据分析**：利于生成业务和技术洞察。

## 各个日志级别说明

注意:使用 Go 的 log 包来记录关键的系统启动信息或特定级别的日志
注意:目前使用以下四个级别输出日志，其他不使用。

### 1. Debug（调试）

- **用途**：开发和故障排除。
- **内容**：详细技术信息，如变量值、系统状态、执行路径。
- **场景**：代码调试、问题跟踪。

### 2. Information（信息）

- **用途**：记录正常运行状态和重要事件。
- **内容**：关键操作和重要事件。
- **场景**：系统监控、审计。

### 3. Warning（警告）

- **用途**：标识可能影响性能或稳定性的情况。
- **内容**：潜在问题和推荐行动。
- **场景**：故障预防、性能优化。

### 4. Error（错误）

- **用途**：记录严重问题或系统错误。
- **内容**：错误描述、影响范围、出错组件。
- **场景**：错误处理、系统恢复。

### 通用原则

- **一致性**：保持格式统一。
- **简洁性**：避免冗余。
- **安全性**：不记录敏感信息。
- **性能考虑**：注意影响。

## 代码示例

日志内容也可以用英文表示

```go
func main() {
    log.Println("应用程序启动") 

    result, err := performOperation()
    if err != nil {
        logs.Error("操作过程中出错: %v", err) 
        return
    }

    if result < 0 {
        logs.Warning("警告：结果为负数, 结果: %d", result) 
    } else {
        logs.Info("操作成功完成, 结果: %d", result) 
    }

    log.Println("应用程序结束") 
}

func performOperation() (int, error) {
    logs.Debug("开始执行操作") 

    rand.Seed(time.Now().UnixNano())
    num := rand.Intn(20) - 10 // 随机数在-10到9之间

    // 在10%的情况下模拟错误
    if rand.Float32() < 0.1 {
        logs.Debug("执行操作时遇到错误") error
        return 0, fmt.Errorf("发生随机错误") 
    }

    logs.Debug("操作执行完成, 结果: %d", num) 
    return num, nil
}

```
